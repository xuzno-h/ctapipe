

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ImPACTReconstructor &mdash; ctapipe v0.6.2.post178+git78208d1</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="EnergyRegressor" href="ctapipe.reco.EnergyRegressor.html" />
    <link rel="prev" title="Reconstructor" href="ctapipe.reco.Reconstructor.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ctapipe
          

          
          </a>

          
            
            
              <div class="version">
                0.6.2.post178+git78208d1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started For Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ctapipe_api/index.html">API Docs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/analysis/index.html">Analysis (<code class="xref py py-obj docutils literal notranslate"><span class="pre">analysis</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/calib/index.html">Calibration (<code class="xref py py-obj docutils literal notranslate"><span class="pre">calib</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/coordinates/index.html">Coordinates (<code class="xref py py-obj docutils literal notranslate"><span class="pre">coordinates</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/core/index.html">Core Structures and Base Classes (<code class="xref py py-obj docutils literal notranslate"><span class="pre">core</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/image/index.html">Imaging (<code class="xref py py-obj docutils literal notranslate"><span class="pre">image</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/instrument/index.html">Instrument (<code class="xref py py-obj docutils literal notranslate"><span class="pre">instrument</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/io/index.html">Input/Output (<code class="xref py py-obj docutils literal notranslate"><span class="pre">io</span></code>)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../ctapipe_api/reco/index.html">Reconstruction (<code class="xref py py-obj docutils literal notranslate"><span class="pre">reco</span></code>)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ctapipe_api/reco/index.html#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ctapipe_api/reco/index.html#currently-implemented-algorithms">Currently Implemented Algorithms</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../ctapipe_api/reco/index.html#reference-api">Reference/API</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../ctapipe_api/reco/index.html#module-ctapipe.reco">ctapipe.reco Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/tools/index.html">Command line tools (<code class="xref py py-obj docutils literal notranslate"><span class="pre">tools</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/utils/index.html">Utilities (<code class="xref py py-obj docutils literal notranslate"><span class="pre">utils</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ctapipe_api/visualization/index.html">Visualization (<code class="xref py py-obj docutils literal notranslate"><span class="pre">visualization</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ctapipe</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../ctapipe_api/index.html">API Docs</a> &raquo;</li>
        
          <li><a href="../ctapipe_api/reco/index.html">Reconstruction (<code class="xref py py-obj docutils literal notranslate"><span class="pre">reco</span></code>)</a> &raquo;</li>
        
      <li>ImPACTReconstructor</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/ctapipe.reco.ImPACTReconstructor.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="impactreconstructor">
<h1>ImPACTReconstructor<a class="headerlink" href="#impactreconstructor" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ctapipe.reco.ImPACTReconstructor">
<em class="property">class </em><code class="descclassname">ctapipe.reco.</code><code class="descname">ImPACTReconstructor</code><span class="sig-paren">(</span><em>root_dir='.'</em>, <em>minimiser='minuit'</em>, <em>prior=''</em>, <em>template_scale=1.0</em>, <em>xmax_offset=0</em>, <em>use_time_gradient=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ctapipe.reco.reco_algorithms.Reconstructor</span></code></p>
<p>This class is an implementation if the impact_reco Monte Carlo
Template based image fitting method from parsons14.  This method uses a
comparision of the predicted image from a library of image
templates to perform a maximum likelihood fit for the shower axis,
energy and height of maximum.</p>
<p>Because this application is computationally intensive the usual
advice to use astropy units for all quantities is ignored (as
these slow down some computations), instead units within the class
are fixed:</p>
<ul class="simple">
<li><p>Angular units in radians</p></li>
<li><p>Distance units in metres</p></li>
<li><p>Energy units in TeV</p></li>
</ul>
<p class="rubric">References</p>
<dl class="citation">
<dt class="label" id="r06574d406ffe-parsons14"><span class="brackets"><a class="fn-backref" href="#id1">parsons14</a></span></dt>
<dd><p>Parsons &amp; Hinton, Astroparticle Physics 56 (2014), pp. 26-34</p>
</dd>
</dl>
<p class="rubric">Attributes Summary</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.ped_table" title="ctapipe.reco.ImPACTReconstructor.ped_table"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ped_table</span></code></a></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.spe" title="ctapipe.reco.ImPACTReconstructor.spe"><code class="xref py py-obj docutils literal notranslate"><span class="pre">spe</span></code></a></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods Summary</p>
<table class="longtable docutils align-center">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.choose_seed" title="ctapipe.reco.ImPACTReconstructor.choose_seed"><code class="xref py py-obj docutils literal notranslate"><span class="pre">choose_seed</span></code></a>(seed_list)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.get_hillas_mean" title="ctapipe.reco.ImPACTReconstructor.get_hillas_mean"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_hillas_mean</span></code></a>()</p></td>
<td><p>This is a simple function to find the peak position of each image in an event which will be used later in the Xmax calculation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.get_likelihood" title="ctapipe.reco.ImPACTReconstructor.get_likelihood"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_likelihood</span></code></a>(source_x, source_y, core_x, …)</p></td>
<td><p>Get the likelihood that the image predicted at the given test position matches the camera image.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.get_likelihood_min" title="ctapipe.reco.ImPACTReconstructor.get_likelihood_min"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_likelihood_min</span></code></a>(x)</p></td>
<td><p>Wrapper class around likelihood function for use with scipy minimisers</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.get_likelihood_nlopt" title="ctapipe.reco.ImPACTReconstructor.get_likelihood_nlopt"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_likelihood_nlopt</span></code></a>(x, grad)</p></td>
<td><p>Wrapper class around likelihood function for use with scipy minimisers</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.get_shower_max" title="ctapipe.reco.ImPACTReconstructor.get_shower_max"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_shower_max</span></code></a>(source_x, source_y, core_x, …)</p></td>
<td><p>Function to calculate the depth of shower maximum geometrically under the assumption that the shower maximum lies at the brightest point of the camera image.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.image_prediction" title="ctapipe.reco.ImPACTReconstructor.image_prediction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">image_prediction</span></code></a>(tel_type, energy, impact, …)</p></td>
<td><p>Creates predicted image for the specified pixels, interpolated from the template library.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.initialise_templates" title="ctapipe.reco.ImPACTReconstructor.initialise_templates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialise_templates</span></code></a>(tel_type)</p></td>
<td><p>Check if templates for a given telescope type has been initialised and if not do it and add to the dictionary</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.minimise" title="ctapipe.reco.ImPACTReconstructor.minimise"><code class="xref py py-obj docutils literal notranslate"><span class="pre">minimise</span></code></a>(params, step, limits[, …])</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.predict" title="ctapipe.reco.ImPACTReconstructor.predict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">predict</span></code></a>(shower_seed, energy_seed)</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.predict_time" title="ctapipe.reco.ImPACTReconstructor.predict_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">predict_time</span></code></a>(tel_type, energy, impact, x_max)</p></td>
<td><p>Creates predicted image for the specified pixels, interpolated from the template library.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.rotate_translate" title="ctapipe.reco.ImPACTReconstructor.rotate_translate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">rotate_translate</span></code></a>(pixel_pos_x, pixel_pos_y, …)</p></td>
<td><p>Function to perform rotation and translation of pixel lists</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#ctapipe.reco.ImPACTReconstructor.set_event_properties" title="ctapipe.reco.ImPACTReconstructor.set_event_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_event_properties</span></code></a>(image, time, pixel_x, …)</p></td>
<td><p>The setter class is used to set the event properties within this class before minimisation can take place.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes Documentation</p>
<dl class="attribute">
<dt id="ctapipe.reco.ImPACTReconstructor.ped_table">
<code class="descname">ped_table</code><em class="property"> = {'CHEC': 0.5, 'DUMMY': 0, 'FlashCam': 2.3, 'LSTCam': 2.8, 'NectarCam': 2.3}</em><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.ped_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="ctapipe.reco.ImPACTReconstructor.spe">
<code class="descname">spe</code><em class="property"> = 0.5</em><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.spe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods Documentation</p>
<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.choose_seed">
<code class="descname">choose_seed</code><span class="sig-paren">(</span><em>seed_list</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.choose_seed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.choose_seed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.get_hillas_mean">
<code class="descname">get_hillas_mean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.get_hillas_mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.get_hillas_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a simple function to find the peak position of each image
in an event which will be used later in the Xmax calculation. Peak is
found by taking the average position of the n hottest pixels in the
image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>None</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.get_likelihood">
<code class="descname">get_likelihood</code><span class="sig-paren">(</span><em>source_x</em>, <em>source_y</em>, <em>core_x</em>, <em>core_y</em>, <em>energy</em>, <em>x_max_scale</em>, <em>goodness_of_fit=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.get_likelihood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.get_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the likelihood that the image predicted at the given test
position matches the camera image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>source_x: float</strong></dt><dd><p>Source position of shower in the nominal system (in deg)</p>
</dd>
<dt><strong>source_y: float</strong></dt><dd><p>Source position of shower in the nominal system (in deg)</p>
</dd>
<dt><strong>core_x: float</strong></dt><dd><p>Core position of shower in tilted telescope system (in m)</p>
</dd>
<dt><strong>core_y: float</strong></dt><dd><p>Core position of shower in tilted telescope system (in m)</p>
</dd>
<dt><strong>energy: float</strong></dt><dd><p>Shower energy (in TeV)</p>
</dd>
<dt><strong>x_max_scale: float</strong></dt><dd><p>Scaling factor applied to geometrically calculated Xmax</p>
</dd>
<dt><strong>goodness_of_fit: boolean</strong></dt><dd><p>Determines whether expected likelihood should be subtracted from result</p>
</dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>——-</strong></dt><dd></dd>
<dt><strong>float: Likelihood the model represents the camera image at this position</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.get_likelihood_min">
<code class="descname">get_likelihood_min</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.get_likelihood_min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.get_likelihood_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper class around likelihood function for use with scipy
minimisers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: ndarray</strong></dt><dd><p>Array of minimisation parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>float: Likelihood value of test position</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.get_likelihood_nlopt">
<code class="descname">get_likelihood_nlopt</code><span class="sig-paren">(</span><em>x</em>, <em>grad</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.get_likelihood_nlopt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.get_likelihood_nlopt" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper class around likelihood function for use with scipy
minimisers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x: ndarray</strong></dt><dd><p>Array of minimisation parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>float: Likelihood value of test position</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.get_shower_max">
<code class="descname">get_shower_max</code><span class="sig-paren">(</span><em>source_x</em>, <em>source_y</em>, <em>core_x</em>, <em>core_y</em>, <em>zen</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.get_shower_max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.get_shower_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate the depth of shower maximum geometrically
under the assumption that the shower maximum lies at the
brightest point of the camera image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>source_x: float</strong></dt><dd><p>Event source position in nominal frame</p>
</dd>
<dt><strong>source_y: float</strong></dt><dd><p>Event source position in nominal frame</p>
</dd>
<dt><strong>core_x: float</strong></dt><dd><p>Event core position in telescope tilted frame</p>
</dd>
<dt><strong>core_y: float</strong></dt><dd><p>Event core position in telescope tilted frame</p>
</dd>
<dt><strong>zen: float</strong></dt><dd><p>Zenith angle of event</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>float: Depth of maximum of air shower</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.image_prediction">
<code class="descname">image_prediction</code><span class="sig-paren">(</span><em>tel_type</em>, <em>energy</em>, <em>impact</em>, <em>x_max</em>, <em>pix_x</em>, <em>pix_y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.image_prediction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.image_prediction" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates predicted image for the specified pixels, interpolated
from the template library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_type: string</strong></dt><dd><p>Telescope type specifier</p>
</dd>
<dt><strong>energy: float</strong></dt><dd><p>Event energy (TeV)</p>
</dd>
<dt><strong>impact: float</strong></dt><dd><p>Impact diance of shower (metres)</p>
</dd>
<dt><strong>x_max: float</strong></dt><dd><p>Depth of shower maximum (num bins from expectation)</p>
</dd>
<dt><strong>pix_x: ndarray</strong></dt><dd><p>X coordinate of pixels</p>
</dd>
<dt><strong>pix_y: ndarray</strong></dt><dd><p>Y coordinate of pixels</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ndarray: predicted amplitude for all pixels</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.initialise_templates">
<code class="descname">initialise_templates</code><span class="sig-paren">(</span><em>tel_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.initialise_templates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.initialise_templates" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if templates for a given telescope type has been initialised
and if not do it and add to the dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_type: dictionary</strong></dt><dd><p>Dictionary of telescope types in event</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>boolean: Confirm initialisation</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.minimise">
<code class="descname">minimise</code><span class="sig-paren">(</span><em>params</em>, <em>step</em>, <em>limits</em>, <em>minimiser_name='minuit'</em>, <em>max_calls=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.minimise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.minimise" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>params: ndarray</strong></dt><dd><p>Seed parameters for fit</p>
</dd>
<dt><strong>step: ndarray</strong></dt><dd><p>Initial step size in the fit</p>
</dd>
<dt><strong>limits: ndarray</strong></dt><dd><p>Fit bounds</p>
</dd>
<dt><strong>minimiser_name: str</strong></dt><dd><p>Name of minimisation method</p>
</dd>
<dt><strong>max_calls: int</strong></dt><dd><p>Maximum number of calls to minimiser</p>
</dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>——-</strong></dt><dd></dd>
<dt><strong>tuple: best fit parameters and errors</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>shower_seed</em>, <em>energy_seed</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.predict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>shower_seed: ReconstructedShowerContainer</strong></dt><dd><p>Seed shower geometry to be used in the fit</p>
</dd>
<dt><strong>energy_seed: ReconstructedEnergyContainer</strong></dt><dd><p>Seed energy to be used in fit</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ReconstructedShowerContainer, ReconstructedEnergyContainer:</strong></dt><dd></dd>
<dt><strong>Reconstructed ImPACT shower geometry and energy</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.predict_time">
<code class="descname">predict_time</code><span class="sig-paren">(</span><em>tel_type</em>, <em>energy</em>, <em>impact</em>, <em>x_max</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.predict_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.predict_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates predicted image for the specified pixels, interpolated
from the template library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tel_type: string</strong></dt><dd><p>Telescope type specifier</p>
</dd>
<dt><strong>energy: float</strong></dt><dd><p>Event energy (TeV)</p>
</dd>
<dt><strong>impact: float</strong></dt><dd><p>Impact diance of shower (metres)</p>
</dd>
<dt><strong>x_max: float</strong></dt><dd><p>Depth of shower maximum (num bins from expectation)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ndarray: predicted amplitude for all pixels</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="staticmethod">
<dt id="ctapipe.reco.ImPACTReconstructor.rotate_translate">
<em class="property">static </em><code class="descname">rotate_translate</code><span class="sig-paren">(</span><em>pixel_pos_x</em>, <em>pixel_pos_y</em>, <em>x_trans</em>, <em>y_trans</em>, <em>phi</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.rotate_translate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.rotate_translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to perform rotation and translation of pixel lists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pixel_pos_x: ndarray</strong></dt><dd><p>Array of pixel x positions</p>
</dd>
<dt><strong>pixel_pos_y: ndarray</strong></dt><dd><p>Array of pixel x positions</p>
</dd>
<dt><strong>x_trans: float</strong></dt><dd><p>Translation of position in x coordinates</p>
</dd>
<dt><strong>y_trans: float</strong></dt><dd><p>Translation of position in y coordinates</p>
</dd>
<dt><strong>phi: float</strong></dt><dd><p>Rotation angle of pixels</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ndarray,ndarray: Transformed pixel x and y coordinates</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ctapipe.reco.ImPACTReconstructor.set_event_properties">
<code class="descname">set_event_properties</code><span class="sig-paren">(</span><em>image</em>, <em>time</em>, <em>pixel_x</em>, <em>pixel_y</em>, <em>type_tel</em>, <em>tel_x</em>, <em>tel_y</em>, <em>array_direction</em>, <em>hillas</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ctapipe/reco/ImPACT.html#ImPACTReconstructor.set_event_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ctapipe.reco.ImPACTReconstructor.set_event_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>The setter class is used to set the event properties within this
class before minimisation can take place. This simply copies a
bunch of useful properties to class members, so that we can
use them later without passing all this information around.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>image: dictionary</strong></dt><dd><p>Amplitude of pixels in camera images</p>
</dd>
<dt><strong>pixel_x: dictionary</strong></dt><dd><p>X position of pixels in nominal system</p>
</dd>
<dt><strong>pixel_y: dictionary</strong></dt><dd><p>Y position of pixels in nominal system</p>
</dd>
<dt><strong>pixel_area: dictionary</strong></dt><dd><p>Area of pixel in each telescope type</p>
</dd>
<dt><strong>type_tel: dictionary</strong></dt><dd><p>Type of telescope</p>
</dd>
<dt><strong>tel_x: dictionary</strong></dt><dd><p>X position of telescope</p>
</dd>
<dt><strong>tel_y: dictionary</strong></dt><dd><p>Y position of telescope</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>None</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ctapipe.reco.EnergyRegressor.html" class="btn btn-neutral float-right" title="EnergyRegressor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ctapipe.reco.Reconstructor.html" class="btn btn-neutral float-left" title="Reconstructor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright ctapipe developers.  Last updated 18 Apr 2019 13:56

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>